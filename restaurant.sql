-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Хост: 127.0.0.1:3306
-- Время создания: Авг 05 2023 г., 19:20
-- Версия сервера: 8.0.30
-- Версия PHP: 7.4.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `restaurant`
--

-- --------------------------------------------------------

--
-- Структура таблицы `Блюда`
--

CREATE TABLE `Блюда` (
  `Блюдо` int NOT NULL,
  `Название` varchar(255) DEFAULT NULL,
  `Тип` varchar(255) DEFAULT NULL,
  `Ингредиенты` varchar(255) DEFAULT NULL,
  `Цена` decimal(10,2) DEFAULT NULL,
  `Наличие` tinyint(1) DEFAULT NULL,
  `Скидка` decimal(5,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Блюда`
--

INSERT INTO `Блюда` (`Блюдо`, `Название`, `Тип`, `Ингредиенты`, `Цена`, `Наличие`, `Скидка`) VALUES
(1, 'Пельмени сибирские', 'Горячие закуски', 'Прозрачный бульон, хвойное масло, сметана', '1080.00', 1, NULL),
(2, 'Арахис по-лаосски', 'Холодные закуски', 'Арахис, обжаренный на масле с кайенским перцем и соевым соусом', '290.00', 1, NULL),
(3, 'Устрицы', 'Холодные закуски', 'Устрицы', '290.00', 1, NULL),
(4, 'Парфе из печени цесарки с черным трюфелем', 'Холодные закуски', 'Варенье из слив, мороженное со вкусом сдобы', '850.00', 1, NULL),
(5, 'Традиционный французский суп', 'Супы', 'Куриный бульон, тимьян, слоеное тесто', '550.00', 1, NULL),
(6, 'Фирменный сырный суп', 'Супы', 'Из 4 сыров', '850.00', 1, NULL),
(7, 'Запеченный сыр Бри', 'Горячие закуски', 'С грушей и розмарином', '1490.00', 1, NULL),
(8, 'Котлетки из судака', 'Основные блюда', 'Печёный в углях картофель, разносолы, соус тар-тар', '1250.00', 1, NULL),
(9, 'Пирог с дичью и фуагра', 'Основные блюда', 'Соус с трюфелем, картофельное пюре, мочёные райские яблочки', '1500.00', 1, NULL),
(10, 'Оливье от \"Люсьена\"', 'Холодные закуски', 'Ростбиф, утка и цыпленок', '720.00', 1, NULL),
(11, 'Деревенский салат', 'Холодные закуски', 'Со свежими огурцами, куриным яйцом, редисом, зеленым луком и укропом. Заправляется сметана & майонез', '420.00', 1, NULL),
(12, 'Жюльен из белых грибов', 'Горячие закуски', 'Запеченный в тончайших блинчиках', '460.00', 1, NULL),
(13, 'Царская уха', 'Супы', 'Из трех видов рыб, с рыбными варениками', '790.00', 1, NULL),
(14, 'Мидии в сливочном соусе', 'Основные блюда', 'Сковородка тихоокеанских мидий в створках с луком-порей и соусом из слоивок и сыра', '580.00', 1, NULL),
(15, 'Феттуччине с грибами', 'Основные блюда', 'Паста, шампиньоны, петрушка, лук, томаты черри, сливки и пармезан', '490.00', 1, NULL),
(16, 'Пенне с овощами и соусом аррабиата', 'Основные блюда', 'Кабачок, перец болгарский, баклажаны, брокколи, оливки, маслины', '420.00', 1, NULL),
(17, 'Старорусский пудинг', 'Десерты', 'Из яичных желтков под хрустящей карамелью', '410.00', 1, NULL),
(18, 'Песочный тарт', 'Десерты', 'С желе из гуавы и нежным кремом из карамельного шоколада', '320.00', 1, NULL),
(19, 'Горячий шоколадный торт', 'Десерты', 'С ванильным мороженым', '390.00', 1, NULL),
(20, 'Наполеон', 'Десерты', 'С клубникой \"фламбе\" и карамельным куполом', '670.00', 1, NULL);

-- --------------------------------------------------------

--
-- Структура таблицы `Блюда_доставка`
--

CREATE TABLE `Блюда_доставка` (
  `Доставка` int DEFAULT NULL,
  `Блюдо` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Блюда_доставка`
--

INSERT INTO `Блюда_доставка` (`Доставка`, `Блюдо`) VALUES
(1, 2),
(2, 2),
(3, 2),
(4, 1),
(5, 2),
(6, 1),
(7, 1),
(8, 1),
(8, 2),
(8, 3),
(8, 4),
(8, 5),
(9, 15),
(9, 18),
(9, 20),
(10, 11),
(11, 1),
(11, 2),
(11, 12),
(12, 1),
(12, 5),
(12, 6),
(12, 13),
(13, 7),
(13, 1),
(13, 12),
(14, 5),
(14, 6),
(14, 13),
(15, 5),
(15, 6),
(15, 13),
(16, 1),
(16, 7),
(16, 12),
(17, 1),
(17, 2),
(17, 3),
(17, 4),
(17, 5),
(18, 1),
(18, 2),
(18, 3),
(18, 4),
(18, 5),
(18, 6),
(19, 1),
(19, 2),
(20, 1),
(20, 2),
(21, 1),
(21, 2),
(21, 3),
(21, 4),
(21, 5),
(22, 1),
(22, 2),
(22, 3),
(22, 4),
(22, 5),
(23, 1),
(23, 2),
(23, 3),
(23, 4),
(24, 1),
(24, 2),
(24, 3),
(24, 5),
(25, 1),
(25, 2),
(25, 3),
(25, 4),
(25, 5),
(25, 6),
(25, 7),
(26, 1),
(26, 2),
(26, 3),
(27, 1),
(27, 2),
(27, 3),
(27, 4),
(27, 5),
(27, 6),
(28, 1),
(28, 2),
(28, 3),
(28, 4),
(29, 15),
(29, 4),
(29, 7),
(29, 1),
(29, 2),
(30, 1),
(30, 2),
(30, 3),
(30, 6),
(31, 1),
(31, 3),
(31, 7);

-- --------------------------------------------------------

--
-- Структура таблицы `Бронирования`
--

CREATE TABLE `Бронирования` (
  `Столик` int NOT NULL,
  `Дата` datetime NOT NULL,
  `Номер_телефона` varchar(255) DEFAULT NULL,
  `Имя` varchar(255) DEFAULT NULL,
  `Фамилия` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Бронирования`
--

INSERT INTO `Бронирования` (`Столик`, `Дата`, `Номер_телефона`, `Имя`, `Фамилия`) VALUES
(8, '2023-06-22 23:30:00', '89000000000', 'Aaa', 'Ttt');

-- --------------------------------------------------------

--
-- Структура таблицы `Доставка`
--

CREATE TABLE `Доставка` (
  `Доставка` int NOT NULL,
  `Номер_телефона` varchar(255) DEFAULT NULL,
  `Имя` varchar(255) DEFAULT NULL,
  `Фамилия` varchar(255) DEFAULT NULL,
  `Адрес` varchar(255) DEFAULT NULL,
  `Дата_время_оформления` datetime DEFAULT NULL,
  `Способ_оплаты_доставки` varchar(45) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Доставка`
--

INSERT INTO `Доставка` (`Доставка`, `Номер_телефона`, `Имя`, `Фамилия`, `Адрес`, `Дата_время_оформления`, `Способ_оплаты_доставки`) VALUES
(1, 'фыа', 'фыа', 'ыа', 'ыа', '2023-06-15 18:06:41', 'Оплата курьеру'),
(2, 'фыаф', 'фыа', 'фы', 'а', '2023-06-15 18:07:33', 'Онлайн оплата'),
(3, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-15 18:09:40', 'Онлайн оплата'),
(4, 'фыа', 'фыаф', 'ыаф', 'фыа', '2023-06-15 18:23:31', 'Оплата курьеру'),
(5, 'фыа', 'фыафы', 'фыа', 'фыа', '2023-06-15 18:57:52', 'Оплата курьеру'),
(6, 'asf', 'asf', 'asf', 'asf', '2023-06-15 19:07:57', 'Онлайн оплата'),
(7, 'asf', 'asf', 'asf', 'saf', '2023-06-15 19:08:23', 'Оплата курьеру'),
(8, 'фыа', 'ыфа', 'фыа', 'ыа', '2023-06-15 19:13:16', 'Онлайн оплата'),
(9, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-15 19:37:58', 'Онлайн оплата'),
(10, 'fsa', 'asf', 'asf', 'asf', '2023-06-15 21:29:38', 'Онлайн оплата'),
(11, 'фыа', 'ыфа', 'фыа', 'фыа', '2023-06-16 04:19:10', 'Оплата курьеру'),
(12, '8900232132', 'asgasga', 'asgasg', 'dsgsdgsd', '2023-06-16 07:15:44', 'Онлайн оплата'),
(13, '8900232132', 'Никита', 'Рубцов', 'Карла Маркса 50/50', '2023-06-16 07:26:07', 'Онлайн оплата'),
(14, '1789', 'никита', 'фа', 'ыфа', '2023-06-19 09:36:16', 'Онлайн оплата'),
(15, 'ыфафы', 'фыа', 'фыа', 'фыа', '2023-06-19 17:31:40', 'Оплата курьеру'),
(16, 'VIP', 'VIP', 'VIP', 'VIP', '2023-06-20 19:58:01', 'Онлайн оплата'),
(17, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:02:41', 'Онлайн оплата'),
(18, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:07:06', 'Онлайн оплата'),
(19, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:16:55', 'Онлайн оплата'),
(20, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:19:05', 'Онлайн оплата'),
(21, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:20:26', 'Онлайн оплата'),
(22, 'фыа', 'фыа', 'фыа', 'ффыа', '2023-06-21 03:22:41', 'Онлайн оплата'),
(23, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:26:59', 'Онлайн оплата'),
(24, 'аыф', 'фыа', 'ыфа', 'фыа', '2023-06-21 03:28:21', 'Онлайн оплата'),
(25, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:31:33', 'Онлайн оплата'),
(26, 'фыа', 'фыа', 'фыа', 'фыа', '2023-06-21 03:32:54', 'Онлайн оплата'),
(27, '79238886123', 'Афыафы', 'фыа', 'ФЫААФЫ', '2023-06-21 03:54:26', 'Онлайн оплата'),
(28, '79238886123', 'ыфа', 'фыа', 'фыафы', '2023-06-21 03:57:07', 'Онлайн оплата'),
(29, '89631352157', 'фыпфып', 'ыфпфып', 'ыфп', '2023-06-21 06:54:02', 'Онлайн оплата'),
(30, '4383483483', 'sasagga', 'asgasga', 'asgasga', '2023-06-21 06:57:54', 'Оплата курьеру'),
(31, '8312412412', 'fsafas', 'asfasf', 'asfasfas', '2023-06-21 07:55:18', 'Оплата курьеру');

-- --------------------------------------------------------

--
-- Структура таблицы `Доходы`
--

CREATE TABLE `Доходы` (
  `Дата` datetime DEFAULT NULL,
  `Доход` decimal(10,2) DEFAULT NULL,
  `Состояние_счета` decimal(10,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

-- --------------------------------------------------------

--
-- Структура таблицы `Заказы`
--

CREATE TABLE `Заказы` (
  `Заказ` int NOT NULL,
  `Столик` int DEFAULT NULL,
  `Дата` datetime DEFAULT NULL,
  `Способ_платы` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Заказы`
--

INSERT INTO `Заказы` (`Заказ`, `Столик`, `Дата`, `Способ_платы`) VALUES
(1, 2, '2023-06-10 01:46:24', 'Карта'),
(2, 1, '2023-06-10 01:55:38', 'Карта'),
(3, 1, '2023-06-10 11:51:53', 'Наличные'),
(4, 1, '2023-06-10 11:52:39', 'Наличные'),
(5, 1, '2023-06-10 11:54:37', 'Карта'),
(6, 1, '2023-06-10 11:57:09', 'Карта'),
(7, 1, '2023-06-10 12:12:48', 'Наличные'),
(8, 2, '2023-06-10 12:13:07', 'Наличные'),
(9, 2, '2023-06-10 12:13:32', 'Наличные'),
(10, 1, '2023-06-10 15:26:14', 'Карта'),
(11, 4, '2023-06-10 15:36:45', 'Наличные'),
(12, 1, '2023-06-12 15:44:28', 'Карта'),
(13, 1, '2023-06-13 13:15:21', 'Наличные'),
(14, 2, '2023-06-13 18:45:18', 'Наличные'),
(15, 1, '2023-06-13 18:59:35', 'Карта'),
(16, 3, '2023-06-13 23:53:30', 'Наличные'),
(17, 2, '2023-06-13 23:54:00', 'Наличные'),
(18, 12, '2023-06-15 19:39:59', 'Наличные'),
(19, 2, '2023-06-15 19:40:24', 'Наличные'),
(20, 2, '2023-06-15 21:31:26', 'Наличные'),
(21, 5, '2023-06-19 09:19:05', 'Карта'),
(22, 6, '2023-06-19 17:29:00', 'Наличные'),
(23, 7, '2023-06-20 22:20:17', 'Наличные'),
(24, 5, '2023-06-21 03:57:44', 'Наличные'),
(25, 2, '2023-06-21 04:05:22', 'Наличные'),
(26, 5, '2023-06-21 06:51:35', 'Наличные'),
(27, 5, '2023-06-21 06:59:24', 'Карта'),
(28, 5, '2023-06-21 08:07:12', 'Наличные'),
(29, 5, '2023-06-21 11:24:50', 'Карта'),
(30, 20, '2023-06-21 17:34:01', 'Карта');

-- --------------------------------------------------------

--
-- Структура таблицы `Заказы_Блюда`
--

CREATE TABLE `Заказы_Блюда` (
  `Заказ` int DEFAULT NULL,
  `Блюдо` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Заказы_Блюда`
--

INSERT INTO `Заказы_Блюда` (`Заказ`, `Блюдо`) VALUES
(1, 17),
(2, 1),
(3, 1),
(4, 1),
(5, 1),
(6, 13),
(7, 1),
(8, 1),
(9, 12),
(10, 12),
(11, 12),
(12, 3),
(13, 1),
(14, 1),
(15, 1),
(16, 1),
(17, 1),
(18, 7),
(19, 1),
(20, 1),
(21, 1),
(22, 1),
(23, 7),
(24, 1),
(25, 1),
(26, 1),
(27, 12),
(28, 1),
(29, 1),
(30, 20);

-- --------------------------------------------------------

--
-- Структура таблицы `Столики`
--

CREATE TABLE `Столики` (
  `Столик` int NOT NULL,
  `Тип` varchar(255) DEFAULT NULL,
  `Места` int DEFAULT NULL,
  `Цена` decimal(10,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Дамп данных таблицы `Столики`
--

INSERT INTO `Столики` (`Столик`, `Тип`, `Места`, `Цена`) VALUES
(1, 'VIP', 4, '7910.00'),
(2, 'В зале', 4, '480.00'),
(3, 'У окна', 6, '2910.00'),
(4, 'У окна', 2, '4600.00'),
(5, 'В зале', 8, '700.00'),
(6, 'У окна', 2, '2210.00'),
(7, 'VIP', 2, '7330.00'),
(8, 'У окна', 4, '2960.00'),
(9, 'VIP', 10, '9490.00'),
(10, 'В зале', 6, '920.00'),
(11, 'У окна', 4, '1970.00'),
(12, 'У окна', 4, '4660.00'),
(13, 'VIP', 2, '6390.00'),
(14, 'VIP', 6, '5690.00'),
(15, 'У окна', 6, '1190.00'),
(16, 'В зале', 3, '680.00'),
(17, 'VIP', 3, '8590.00'),
(18, 'В зале', 4, '640.00'),
(19, 'У окна', 3, '2440.00'),
(20, 'VIP', 6, '7290.00');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `Блюда`
--
ALTER TABLE `Блюда`
  ADD PRIMARY KEY (`Блюдо`);

--
-- Индексы таблицы `Блюда_доставка`
--
ALTER TABLE `Блюда_доставка`
  ADD KEY `Доставка` (`Доставка`),
  ADD KEY `Блюдо` (`Блюдо`);

--
-- Индексы таблицы `Бронирования`
--
ALTER TABLE `Бронирования`
  ADD PRIMARY KEY (`Столик`,`Дата`);

--
-- Индексы таблицы `Доставка`
--
ALTER TABLE `Доставка`
  ADD PRIMARY KEY (`Доставка`);

--
-- Индексы таблицы `Заказы`
--
ALTER TABLE `Заказы`
  ADD PRIMARY KEY (`Заказ`),
  ADD KEY `Столик` (`Столик`);

--
-- Индексы таблицы `Заказы_Блюда`
--
ALTER TABLE `Заказы_Блюда`
  ADD KEY `Заказ` (`Заказ`),
  ADD KEY `Блюдо` (`Блюдо`);

--
-- Индексы таблицы `Столики`
--
ALTER TABLE `Столики`
  ADD PRIMARY KEY (`Столик`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `Блюда`
--
ALTER TABLE `Блюда`
  MODIFY `Блюдо` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;

--
-- AUTO_INCREMENT для таблицы `Доставка`
--
ALTER TABLE `Доставка`
  MODIFY `Доставка` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=32;

--
-- AUTO_INCREMENT для таблицы `Заказы`
--
ALTER TABLE `Заказы`
  MODIFY `Заказ` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `Блюда_доставка`
--
ALTER TABLE `Блюда_доставка`
  ADD CONSTRAINT `блюда_доставка_ibfk_1` FOREIGN KEY (`Доставка`) REFERENCES `Доставка` (`Доставка`),
  ADD CONSTRAINT `блюда_доставка_ibfk_2` FOREIGN KEY (`Блюдо`) REFERENCES `Блюда` (`Блюдо`);

--
-- Ограничения внешнего ключа таблицы `Бронирования`
--
ALTER TABLE `Бронирования`
  ADD CONSTRAINT `бронирования_ibfk_1` FOREIGN KEY (`Столик`) REFERENCES `Столики` (`Столик`);

--
-- Ограничения внешнего ключа таблицы `Заказы`
--
ALTER TABLE `Заказы`
  ADD CONSTRAINT `заказы_ibfk_1` FOREIGN KEY (`Столик`) REFERENCES `Столики` (`Столик`);

--
-- Ограничения внешнего ключа таблицы `Заказы_Блюда`
--
ALTER TABLE `Заказы_Блюда`
  ADD CONSTRAINT `заказы_блюда_ibfk_1` FOREIGN KEY (`Заказ`) REFERENCES `Заказы` (`Заказ`),
  ADD CONSTRAINT `заказы_блюда_ibfk_2` FOREIGN KEY (`Блюдо`) REFERENCES `Блюда` (`Блюдо`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
